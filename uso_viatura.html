<div class="page-content fade-in">
    <div class="form-section">
        <h2>üöó Registro de Uso de Viatura</h2>
        <form id="usoViaturaForm">
            <div class="form-grid">
                <h3>üë§ Dados do Motorista</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="motoristaGrad">Gradua√ß√£o</label>
                        <input type="text" id="motoristaGrad" readonly>
                    </div>
                    <div class="form-group">
                        <label for="motoristaMatricula">Matr√≠cula</label>
                        <input type="text" id="motoristaMatricula" readonly>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="motoristaCPF">CPF</label>
                        <input type="text" id="motoristaCPF" readonly>
                    </div>
                    <div class="form-group">
                        <label for="motoristaNome">Nome</label>
                        <input type="text" id="motoristaNome" readonly>
                    </div>
                </div>
                
                <h3>üöô Dados da Viatura</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="viaturaPatrimonio">Viatura</label>
                        <select id="viaturaPatrimonio" required>
                            <option value="">Selecione a viatura...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="viaturaEmprego">Emprego/Miss√£o</label>
                        <input type="text" id="viaturaEmprego" required placeholder="Descreva a miss√£o ou destino">
                    </div>
                </div>
                
                <h3>üìÖ Dados Iniciais do Servi√ßo</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="dataInicial">Data</label>
                        <input type="date" id="dataInicial" required>
                    </div>
                    <div class="form-group">
                        <label for="horaInicial">Hora de Sa√≠da</label>
                        <input type="time" id="horaInicial" required>
                    </div>
                    <div class="form-group">
                        <label for="kmInicial">KM Inicial</label>
                        <input type="number" id="kmInicial" required min="0" step="1" placeholder="Quilometragem no in√≠cio">
                    </div>
                </div>
                
                <h3>üèÅ Dados Finais do Servi√ßo</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="dataFinal">Data de Retorno</label>
                        <input type="date" id="dataFinal">
                    </div>
                    <div class="form-group">
                        <label for="horaFinal">Hora de Retorno</label>
                        <input type="time" id="horaFinal">
                    </div>
                    <div class="form-group">
                        <label for="kmFinal">KM Final</label>
                        <input type="number" id="kmFinal" min="0" step="1" placeholder="Quilometragem no retorno">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="observacoes">Observa√ß√µes</label>
                        <textarea id="observacoes" placeholder="Observa√ß√µes adicionais sobre o uso da viatura..."></textarea>
                    </div>
                </div>
            </div>
            
            <button type="submit" class="btn-primary">
                <span class="btn-icon">‚úì</span>
                Registrar Uso da Viatura
            </button>
        </form>
    </div>

    <div class="form-section">
        <h2>üìã Registros Recentes de Uso</h2>
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Data</th>
                        <th>Viatura</th>
                        <th>Motorista</th>
                        <th>KM Inicial</th>
                        <th>KM Final</th>
                        <th>Status</th>
                        <th>A√ß√µes</th>
                    </tr>
                </thead>
                <tbody id="registrosUsoTable">
                    <tr>
                        <td colspan="7" style="text-align: center; padding: 2rem;">
                            <div style="color: #6c757d;">
                                <span style="font-size: 3rem;">üìù</span>
                                <p>Nenhum registro encontrado</p>
                                <small>Os registros de uso aparecer√£o aqui</small>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Modal para Fechar/Editar Mapa -->
<div id="modalFecharMapa" class="modal-overlay" style="display: none;">
    <div class="modal-content" style="max-width: 500px;">
        <h2 id="modalFecharMapaTitle">Fechar Mapa</h2>
        <form id="formFecharMapa">
            <input type="hidden" id="fecharMapaRegistroId">
            <div class="form-grid">
                <div class="form-row">
                    <div class="form-group">
                        <label for="fecharDataFinal">Data de Retorno</label>
                        <input type="date" id="fecharDataFinal" required>
                    </div>
                    <div class="form-group">
                        <label for="fecharHoraFinal">Hora de Retorno</label>
                        <input type="time" id="fecharHoraFinal" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="fecharKmFinal">KM Final</label>
                        <input type="number" id="fecharKmFinal" required min="0" step="1">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="fecharObservacoes">Observa√ß√µes</label>
                        <textarea id="fecharObservacoes" placeholder="Observa√ß√µes adicionais..."></textarea>
                    </div>
                </div>
                <div id="tempoEdicaoInfo" class="info-card" style="display: none;">
                    <p><strong>Aten√ß√£o:</strong> Voc√™ pode editar os dados finais por at√© 20 minutos ap√≥s o fechamento.</p>
                    <p id="tempoRestante" style="font-weight: bold; color: var(--primary-color);"></p>
                </div>
            </div>
            <div style="display: flex; gap: 1rem;">
                <button type="submit" class="btn-primary" id="btnSalvarFecharMapa">Salvar</button>
                <button type="button" class="btn-secondary" onclick="frotaSystem.fecharModalFecharMapa()">Cancelar</button>
            </div>
        </form>
    </div>
</div>

<script>
    // Fun√ß√µes do modal ser√£o implementadas no app.js
</script>